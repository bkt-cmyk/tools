<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=900">
    <title>Investment Allocation Calculator</title>
    <link rel="icon" type="image/png" href="assets/img/favicon.png">

    <!-- ===================== FONTS & STYLES ===================== -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        /* ---------------- BODY & HEADINGS ---------------- */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: #f0f4f8;
            color: #1f2937;
            min-width: 900px;
        }

        h2 {
            text-align: center;
            margin: 25px 0;
            font-size: 28px;
            color: #111827;
        }

        /* ---------------- MODAL INPUTS ---------------- */
        .modal-content input[type="text"],
        .modal-content input[type="number"] {
            width: 70%;
            max-width: 200px;
            padding: 12px 16px;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            border: 1px solid #cbd5e1;
            border-radius: 12px;
            outline: none;
            transition: all 0.25s ease-in-out;
            background-color: #f9fafb;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        /* Hover effect */
        .modal-content input[type="text"]:hover,
        .modal-content input[type="number"]:hover {
            border-color: #93c5fd;
        }

        /* Focus effect */
        .modal-content input[type="text"]:focus,
        .modal-content input[type="number"]:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
            background-color: #ffffff;
        }

        /* Placeholder style */
        .modal-content input::placeholder {
            color: #9ca3af;
            font-style: italic;
        }

        /* ---------------- CARDS ---------------- */
        .card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, .08);
            padding: 20px;
            margin: 20px auto;
            max-width: 980px;
        }

        /* ---------------- INPUT GROUP ---------------- */
        .input-group {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
        }

        .input-group label {
            font-weight: 600;
            font-size: 16px;
        }

        .input-group input {
            padding: 12px 16px;
            font-size: 16px;
            border: 1px solid #cbd5e1;
            border-radius: 12px;
            outline: none;
            transition: border-color .2s, box-shadow .2s;
        }

        .input-group input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, .2);
        }

        /* ---------------- MODAL BUTTONS ---------------- */
        .modal-buttons-input button {
            padding: 12px 24px;
            font-size: 16px;
            border: none;
            border-radius: 12px;
            color: #fff;
            cursor: pointer;
            font-weight: 600;
            transition: background .2s;
        }

        .modal-buttons-input button.add {
            background: #16a34a;
        }

        .modal-buttons-input button.add:hover {
            background: #15803d;
        }

        .modal-buttons-input button.clear {
            background: #dc2626;
        }

        .modal-buttons-input button.clear:hover {
            background: #b91c1c;
        }

        /* ---------------- TABLES ---------------- */
        .table-wrapper {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        table {
            width: 100%;
            min-width: 640px;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid #e5e7eb;
            padding: 12px;
            text-align: right;
        }

        th {
            text-align: center;
            background: #f3f4f6;
            position: sticky;
            top: 0;
            z-index: 2;
        }

        td:first-child,
        th:first-child {
            text-align: left;
        }

        tr:hover {
            background: #f9fafb;
        }

        /* ---------------- HIGHLIGHT COLORS ---------------- */
        .highlight-red {
            background: #fecaca;
        }

        .highlight-yellow {
            background: #fef08a;
        }

        .highlight-green {
            background: #bbf7d0;
        }

        .highlight-blue {
            background: #bfdbfe;
        }

        .highlight-purple {
            background: #e9d5ff;
        }

        .highlight-orange {
            background: #fed7aa;
        }

        .highlight-pink {
            background: #fbcfe8;
        }

        .highlight-teal {
            background: #99f6e4;
        }

        .highlight-gray {
            background: #e5e7eb;
        }

        .highlight-brown {
            background: #d6ccc2;
        }

        /* ---------------- MODALS ---------------- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, .5);
            justify-content: center;
            align-items: center;
            animation: fadeIn .3s ease;
        }

        .modal-content {
            background: linear-gradient(135deg, #fef3c7, #d9f99d);
            padding: 28px;
            border-radius: 16px;
            width: 420px;
            max-width: 92%;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0, 0, 0, .15);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 12px;
            font-size: 18px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #colorOptions {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 12px 0;
            gap: 8px;
        }

        .color-option {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #fff;
            transition: transform .15s, border .15s;
        }

        .color-option:hover {
            transform: scale(1.12);
            border: 2px solid #000;
        }

        .modal-buttons {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            margin-top: 16px;
        }

        .modal-buttons button {
            flex: 1;
            padding: 10px 0;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: background .12s;
            border: none;
            font-size: 15px;
        }

        .modal-buttons button.save {
            background: #3b82f6;
            color: #fff;
        }

        .modal-buttons button.save:hover {
            background: #2563eb;
        }

        .modal-buttons button.delete {
            background: #dc2626;
            color: #fff;
        }

        .modal-buttons button.delete:hover {
            background: #C00907;
        }

        .modal-buttons button.cancel {
            background: #e5e7eb;
            color: #111827;
        }

        .modal-buttons button.cancel:hover {
            background: #c9cacc;
        }

        /* ---------------- RESPONSIVE ---------------- */
        @media(max-width:520px) {
            .modal-content {
                padding: 18px;
            }

            h2 {
                font-size: 22px;
            }

            table {
                min-width: 520px;
            }
        }
    </style>
</head>

<body>
    <!-- ===================== MAIN HEADING ===================== -->
    <h2>Investment Allocation Calculator</h2>

    <!-- ===================== CASH INPUT CARD ===================== -->
    <div class="card" style="display:flex;flex-direction:column;gap:16px;align-items:center;">
        <div class="input-group">
            <label for="cashInput">Enter Cash ($):</label>
            <input type="number" id="cashInput" min="0" step="1">
            <div class="modal-buttons-input">
                <button class="add">Add New Stock</button>
                <button class="clear">Clear</button>
            </div>
        </div>
    </div>

    <!-- ===================== ALLOCATION RESULT CARD ===================== -->
    <div class="card">
        <h3>Allocation Result</h3>
        <div class="table-wrapper">
            <table id="resultTable">
                <thead>
                    <tr>
                        <th>Instrument</th>
                        <th>Expected %</th>
                        <th>Allocation ($)</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- ===================== SIMULATION TABLE CARD ===================== -->
    <div class="card">
        <h3>Simulation Table</h3>
        <div class="table-wrapper">
            <table id="simulationTable">
                <thead>
                    <tr>
                        <th>Instrument</th>
                        <th data-percent="20" class="editable-sim" id="buy-1st">20%</th>
                        <th data-percent="30" class="editable-sim" id="buy-2st">30%</th>
                        <th data-percent="40" class="editable-sim" id="buy-3st">40%</th>
                        <th data-percent="50" class="editable-sim" id="buy-4st">50%</th>
                        <th data-percent="60" class="editable-sim" id="buy-5st">60%</th>
                        <th data-percent="70" class="editable-sim" id="buy-6st">70%</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- ===================== MODALS ===================== -->
    <!-- Edit Stock Modal -->
    <div id="editModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">×</button>
            <h3>Edit Stock</h3>
            <input type="number" id="editPortion" min="0" step="0.1" placeholder="Expected %">
            <div id="colorOptions">
                <div class="color-option highlight-red" data-color="highlight-red" style="background:#fecaca"></div>
                <div class="color-option highlight-yellow" data-color="highlight-yellow" style="background:#fef08a">
                </div>
                <div class="color-option highlight-green" data-color="highlight-green" style="background:#bbf7d0"></div>
                <div class="color-option highlight-blue" data-color="highlight-blue" style="background:#bfdbfe"></div>
                <div class="color-option highlight-purple" data-color="highlight-purple" style="background:#e9d5ff">
                </div>
                <div class="color-option highlight-orange" data-color="highlight-orange" style="background:#fed7aa">
                </div>
                <div class="color-option highlight-pink" data-color="highlight-pink" style="background:#fbcfe8"></div>
                <div class="color-option highlight-teal" data-color="highlight-teal" style="background:#99f6e4"></div>
                <div class="color-option highlight-gray" data-color="highlight-gray" style="background:#e5e7eb"></div>
                <div class="color-option highlight-brown" data-color="highlight-brown" style="background:#d6ccc2"></div>
            </div>
            <div class="modal-buttons">
                <button class="save">Save</button>
                <button class="delete">Delete</button>
                <button class="cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add New Stock Modal -->
    <div id="addStockModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAddStockModal()">×</button>
            <h3>Add New Stock</h3>
            <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center;">
                <div style="display:flex;flex-direction:column;flex:1 1 120px;">
                    <label for="newStockName">Stock Name</label>
                    <input type="text" id="newStockName" placeholder="e.g. MSFT">
                </div>
                <div style="display:flex;flex-direction:column;flex:1 1 120px;">
                    <label for="newStockPortion">Expected %</label>
                    <input type="number" id="newStockPortion" placeholder="%" min="0" step="0.1">
                </div>
            </div>
            <div class="modal-buttons">
                <button class="save">Add</button>
                <button class="cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Simulation Modal -->
    <div id="editSimModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" onclick="closeSimModal()">×</button>
            <h3>Edit Simulation Column (%)</h3>
            <input type="number" id="editSimValue" placeholder="Percent (0-100)" min="0" max="100" step="0.01">
            <div class="modal-buttons">
                <button class="save">Save</button>
                <button class="cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ===================== SCRIPT ===================== -->
    <script src="assets/js/script.js"></script>

</body>

</html>